<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>OnlineAccounts - Online Accounts JS API</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.8.0pr2/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <script src="http://yui.yahooapis.com/combo?3.8.0pr2/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            <h1><a href="../index.html"><img src="../assets/css/logo.png">Online Accounts JS API: OnlineAccounts</a></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.1</em>
        </div>
    </div>
    <div class="yui3-g">

        <div id="sidebar" class="yui3-u">
            <div id="modules" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Modules</h2>
                </div>
                <div class="bd">
                    <ul>
                            <li><a href="../modules/OnlineAccounts.html">OnlineAccounts</a>
                            </li>
                    </ul>
                </div>
            </div>
            
            <div id="classes" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Classes</h2>
                </div>
                <div class="bd">
                    <ul>
                            <li><a href="../classes/AccountService.html">AccountService</a></li>
                            <li><a href="../classes/OnlineAccounts.html">OnlineAccounts</a></li>
                    </ul>
                </div>
            </div>
            
            <div id="methods-on-page" class="sidebox on-page">
                <div class="hd">
                    <h2 class="no-toc">Methods On Page</h2>
                </div>
                <div class="bd">
                    <ul>
                            <li><a href="#methods_api.getAccounts">api.getAccounts</a></li>
                            <li><a href="#methods_api.getProviders">api.getProviders</a></li>
                            <li><a href="#methods_api.requestAccount">api.requestAccount</a></li>
                    </ul>
                </div>
            </div>
            
            
            
            
            <div id="fileTree" class="sidebox">
                <div class="hd">
                    <h2 class="no-toc">Files</h2>
                </div>
                <div class="bd">
                    <ul><li>online-accounts.js/<ul></ul></li></ul>
                </div>
            </div>
            
        </div>

        <div id="main" class="yui3-u">
            <div class="content"><h4>Class OnlineAccounts</h4>
<span class="foundat">Class defined in: <a href="../../files/online-accounts.js.html#l144"><code>online-accounts.js:144</code></a></span>
<div class="intro"><p>The OnlineAccounts object is the entry point to online accounts service access.</p>
</div>


<div id="classdocs">
    <ul>
        <li><a href="#methods">Methods</a></li>
    </ul>
    <div>
            <div id="methods">
                <a name="methods_api.getAccounts"></a>
                <div class="method item">
                     <strong class="name"><code>api.getAccounts</code></strong>( <code>filters, callback </code> ) 
                    <br>
                    <span class="foundat">
                        
                        <a href="../../files/online-accounts.js.html#l159"><code>online-accounts.js:159</code></a>
                    </span><br>
                    <p>Gets the configured accounts satisfying the given filters.</p>
                
                    <strong>Parameters:</strong>
                    <ul class="params">
                        <li>
                            <code>filters</code> <strong>&lt;Object&gt;</strong>
                        <p>A dictionary of parameters to filter the result. The filtering keys are:</p>
                <ul>
                <li>applicationId: the ID of a application (see /usr/share/accounts/applications/ or ~/.local/share/accounts/applications/ for a list of the available applications)</li>
                <li>provider: the ID of a provider (see /usr/share/accounts/providers/ or ~/.local/share/accounts/providers/ for a list of the available providers)</li>
                <li>service: the ID of a service (see /usr/share/accounts/services/ or ~/.local/share/accounts/services/ for a list of the available services)</li>
                </ul>
                
                        </li>
                        <li>
                            <code>callback</code> <strong>&lt;Function(List of AccountService objects)&gt;</strong>
                        <p>Callback that receives the result or null</p>
                
                        </li>
                    </ul>
                        <h5>Example</h5>
                        <pre class="code prettyprint"><code>          var api = external.getUnityObject(1.0);
                          var oa = api.OnlineAccounts;
                        
                          oa.api.getAccounts({'provider': 'facebook'}, function(result) {
                            for (var i = 0; i &lt; result.length; ++i) {
                              console.log(&quot;name: &quot; + result[i].displayName()
                                          + ', id: ' + result[i].accountId()
                                          + ', providerName: ' + result[i].provider().displayName
                                          + ', enabled: ' + (result[i].enabled() ? &quot;true&quot; : &quot;false&quot;)
                                          );
                            }               
                          });
                </code></pre>
                
                </div>
                <a name="methods_api.getProviders"></a>
                <div class="method item">
                     <strong class="name"><code>api.getProviders</code></strong>( <code>filters, callback </code> ) 
                    <br>
                    <span class="foundat">
                        
                        <a href="../../files/online-accounts.js.html#l190"><code>online-accounts.js:190</code></a>
                    </span><br>
                    <p>Gets list of available providers.</p>
                
                    <strong>Parameters:</strong>
                    <ul class="params">
                        <li>
                            <code>filters</code> <strong>&lt;Object&gt;</strong>
                        <p>A dictionary of parameters to filter the result. The filtering keys are:</p>
                <ul>
                <li>applicationId: the ID of a application (see /usr/share/accounts/applications/ or ~/.local/share/accounts/applications/ for a list of the available applications)</li>
                </ul>
                
                        </li>
                        <li>
                            <code>callback</code> <strong>&lt;Function(List of AccountService objects)&gt;</strong>
                        <p>Callback that receives the result or null.
                The result is a dictionary with the following keys:
                - displayName: the display name for the corresponding provider
                - providerId: the provider id</p>
                
                        </li>
                    </ul>
                        <h5>Example</h5>
                        <pre class="code prettyprint"><code>          var api = external.getUnityObject(1.0);
                          var oa = api.OnlineAccounts;
                
                          oa.api.getProviders({}, function(result) {
                            for (var i = 0; i &lt; result.length; ++i) {
                              console.log(&quot;displayName: &quot; + result[i].displayName
                                          + ', providerId: ' + result[i].providerId);
                            }
                          });
                </code></pre>
                
                </div>
                <a name="methods_api.requestAccount"></a>
                <div class="method item">
                     <strong class="name"><code>api.requestAccount</code></strong>( <code>applicationId, providerId, callback </code> ) 
                    <br>
                    <span class="foundat">
                        
                        <a href="../../files/online-accounts.js.html#l218"><code>online-accounts.js:218</code></a>
                    </span><br>
                    <p>Requests access to an account.</p>
                <p>Applications must invoke this method in order to obtain access
                to an account.  The user will be prompted to grant access to
                either an existing account, to create a new one or to decline
                the request.</p>
                
                    <strong>Parameters:</strong>
                    <ul class="params">
                        <li>
                            <code>applicationId</code> <strong>&lt;String&gt;</strong>
                        <p>The ID of the application
                requesting the account (see /usr/share/accounts/applications/ or
                ~/.local/share/accounts/applications/ for a list of the
                available applications)</p>
                
                        </li>
                        <li>
                            <code>providerId</code> <strong>&lt;String&gt;</strong>
                        <p>The ID of the provider of the desired
                account (see /usr/share/accounts/providers/ or
                ~/.local/share/accounts/providers/ for a list of the available
                providers)</p>
                
                        </li>
                        <li>
                            <code>callback</code> <strong>&lt;Function()&gt;</strong>
                        <p>Callback which will be invoked
                after the access request has been decided (either with the
                access to an account being granted, or with a refusal).</p>
                
                        </li>
                    </ul>
                        <h5>Example</h5>
                        <pre class="code prettyprint"><code>          var api = external.getUnityObject(1.0);
                          var oa = api.OnlineAccounts;
                
                          var appId = 'com.ubuntu.developer.me.MyPackage_MyApp';
                          oa.api.requestAccount(appId,
                                                'facebook',
                                                function() {
                            oa.api.getAccounts({ 'application': appId }, function(result) {
                              for (var i = 0; i &lt; result.length; ++i) {
                                console.log(&quot;name: &quot; + result[i].displayName()
                                            + ', id: ' + result[i].accountId()
                                            + ', providerName: ' + result[i].provider().displayName
                                            + ', enabled: ' + (result[i].enabled() ? &quot;true&quot; : &quot;false&quot;)
                                            );
                              }
                            });
                          });</code></pre>
                
                </div>
            </div>
    </div>
</div>
</div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/js/tabs.js"></script>
</body>
</html>
